## RISCV中的輸出入

RISC-V 中的 I/O 核心追求最小的複雜度與最大的彈性。在 RISC-V 中，I/O 操作被視為一種特殊的存取記憶體的方式，使用記憶體的讀取和寫入指令進行控制，通常是使用 MMIO（Memory-Mapped I/O，記憶體映射 I/O）的方式實現。

在 RISC-V 的記憶體映射 I/O 中，一個 I/O 設備會被分配一段專門的記憶體地址，當 CPU 執行讀取或寫入操作時，輸入/輸出數據會被直接寫入到或讀取出他們分配的記憶體地址空間中。通過這種方法，I/O 設備可以被當作是記憶體中的一部分般被訪問，並且可以透過常用的 CPU 指令（讀寫指令）來使用它們。

具體來說，在 RISC-V 中，控制 I/O 的主要指令為讀取和寫入兩類指令：

- lb/lh/lw/lbu/lhu：讀取 I/O 設備中的數據，以字節、半字或字為單位讀取，並將其載入 CPU 的暫存器中；
- sb/sh/sw：寫入數據到 I/O 設備中，以字節、半字或字為單位寫入，根據操作數內容，從 CPU 的暫存器中將數據寫入到指定的記憶體地址中。

例如，對於一個連接在 RISC-V 處理器上的LED燈，可以將其設置為某個記憶體地址，然後通過 RISC-V 指令將其打開或關閉。假設該LED燈會顯示 1 或 0，則可以將其放到位於 0xFFFFF000 的記憶體地址中。接著，使用向其寫入數據的指令「sb」，配合一個二進制數據（1 或 0），就可以控制LED燈的開關。

綜上，RISC-V 中的 I/O 操作主要通過記憶體訪問來實現，通過讀取和寫入指令，CPU 可以將數據存取到特定的記憶體地址中，而這些記憶體地址被映射為 I/O 設備的控制和數據端口，以完成對 I/O 設備的控制和數據傳輸。