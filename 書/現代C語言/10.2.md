## 動態連結和靜態連結

動態連結和靜態連結是在編譯和鏈接時的不同方式。

靜態連結是在編譯時將所有需要的程式庫和目標文件直接綁定到最終可執行文件中。這意味著生成的可執行文件獨立於系統上的其他庫，但是它會比動態連結的可執行文件大。靜態連結的優點是它可以確保最終的可執行文件可以在不同的系統上運行，而不需要其他庫的支持。然而，這也意味著你必須為每個版本的編譯處理和存儲庫的所有副本。

動態連結是在運行時才加载需要的庫。這意味著可執行檔比較小，並且可以在系統上共享庫，從而節省記憶體。這也意味著更容易更新庫而不需要重新編譯整個應用程序。不過，透過動態連結，你必須確保你的應用程式和庫之間短期兼容性，如果庫更新了不向後兼容的變更，那麼你的程式可能無法運行，除非庫被更新。

以下是一個使用動態連結的 C 程序的示例。假設我們有一個需要使用 math 函數庫的程式，以下為程式範例：

```c
#include <stdio.h>
#include <math.h>

int main() {
  double num = 4.0;
  double result = sqrt(num);
  printf("The square root of %f is %f\n", num, result);
  return 0;
}
```

在編譯這個程式的時候，我們需要使用 `-lm` 選項連結 math 库，如下所示：

```
gcc -o example example.c -lm
```

這個選項告訴編譯器和鏈接器將 math 库動態連接到可執行文件中，以便在運行時使用。