## 10. 輸入輸出的缺陷的陷阱

輸入和輸出是C語言中非常常用的操作。然而，有一些輸入和輸出的陷阱需要注意，以避免一些錯誤。

1. 使用`scanf`時，要注意使用正確的格式字串。如果格式字串不正確，很可能會導致輸入錯誤。特別是當輸入值的類型和格式字串指定的不一致時，這種情況更容易出現。

```c
int num;
scanf("%d", &num); // 正確
scanf("%f", &num); // 不正確，可能會導致輸入錯誤
```

2. 使用`scanf`或`gets`等函數時，要注意輸入的內容是否會超過變量的大小。如果超過的話，就會發生緩衝區溢位，可能會導致程式崩潰或安全漏洞。

```c
char str[10];
scanf("%s", str); // 如果輸入字符數超過10個，就會發生緩衝區溢位
```

3. 使用`printf`時，要注意使用正確的轉換字符。如果轉換字符不正確，就會導致輸出錯誤。同樣地，當輸出值的類型和轉換字符指定的不一致時，這種情況更容易出現。

```c
int num = 123;
printf("%d", num); // 正確
printf("%f", num); // 不正確，可能會導致輸出錯誤
```

4. 使用`printf`時，要注意格式化字符串中的轉義字符和格式字串的匹配。如果兩者不匹配，也可能會導致意料之外的輸出。

```c
printf("Hello\tworld\n"); // 正確，會輸出一個Tab和換行符
printf("Hello\\world\n"); // 不正確，會輸出一個反斜杠和換行符
```

總之，熟悉輸入輸出的缺陷和陷阱，可以幫助我們撰寫更加健壯和安全的C語言程式。