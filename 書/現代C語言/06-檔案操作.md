# 第六章：檔案操作

在 C 語言中，可以使用標準函數庫 stdio.h 中的函數來操作檔案。其中最常用的檔案操作函數是 fopen 和 fclose，分別用於開啟和關閉檔案。

## 開啟檔案
fopen 函數用於開啟一個檔案，並返回一個指向該檔案的指標。該函數的語法如下：

```c
FILE *fopen(const char *filename, const char *mode);
```

其中，filename 是要開啟的檔案名稱，mode 是以哪種模式打開檔案。模式有以下幾種：

* "r"：以讀取模式打開檔案，如果檔案不存在，則返回 NULL。
* "w"：以寫入模式打開檔案，如果檔案不存在，則創建一個新的檔案，如果檔案已存在，則清空該檔案內容。
* "a"：以追加模式打開檔案，如果檔案不存在，則創建一個新的檔案，如果檔案已存在，則在該檔案末尾寫入內容。
* "r+"：以讀寫模式打開檔案，如果檔案不存在，則返回 NULL。
* "w+"：以讀寫模式打開檔案，如果檔案不存在，則創建一個新的檔案，如果檔案已存在，則清空該檔案內容。
* "a+"：以讀寫模式打開檔案，如果檔案不存在，則創建一個新的檔案，如果檔案已存在，則在該檔案末尾寫入內容。

## 檔案讀取範例

下面是一個示例程式碼，演示了如何以讀取模式打開一個檔案：

```cpp
#include <stdio.h>

int main() {
    FILE *fp;
    char c;

    fp = fopen("file.txt", "r");
    if (fp == NULL) {
        printf("無法打開檔案！\n");
        return 1;
    }

    while ((c = getc(fp)) != EOF) {
        printf("%c", c);
    }

    fclose(fp);

    return 0;
}
```

在上面的程式碼中，使用 fopen 函數以讀取模式打開一個名為 file.txt 的檔案。如果檔案不存在，則會返回 NULL，程式會輸出一條錯誤訊息。



