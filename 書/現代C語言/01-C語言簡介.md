# 第一章：C 語言簡介

## C 語言的歷史和設計理念

C 語言是由 Dennis Ritchie 於 1972 年在貝爾實驗室所開發出來的，起初是為了開發 Unix 作業系統而設計。C 語言的設計理念是要提供一個簡單而有效率的程式設計語言，可以讓程式設計師更容易地撰寫系統軟體和應用程式。

在 C 語言的設計中，Dennis Ritchie 將程式設計師所需要的控制結構、資料型別、運算符號、函式等元素整合到一個語言中，同時也提供了指標 (pointer) 的概念和功能，讓程式設計師可以直接存取記憶體，提升程式效能。

### C 語言的特性和優點

C 語言有以下的特性和優點：

1. 簡潔而有效率：C 語言的語法簡潔而直觀，可以很容易地撰寫出高效率的程式碼。
2. 可移植性：C 語言的程式碼可以在不同的平台上編譯執行，而不需要修改程式碼。
3. 強大的系統程式開發功能：C 語言的指標功能和對記憶體的直接存取，讓程式設計師可以開發出高效率的系統程式。
4. 標準函式庫豐富：C 語言的標準函式庫提供了豐富的函式和資料型別，可以簡化程式設計師的工作。
    * ccc: 相對於 python 是非常貧乏的 ...
5. 巨量的程式碼庫：C 語言已經發展了超過 50 年，有大量的程式碼庫可供參考和使用。
    * ccc: 大部分擴充函式庫都與平台作業系統有關，難以跨平台

### C 語言的應用範圍

C 語言的應用範圍非常廣泛，以下是一些常見的應用範圍：

1. 系統程式開發：C 語言是開發 Unix、Linux、Windows 等作業系統和核心程式的主要語言。
2. 應用程式開發：C 語言可以用來開發各種應用程式，如瀏覽器、遊戲、資料庫、編輯器等。
    * ccc: C 語言通常只用在底層的開發，遊戲只用來開發引擎，上層會用 C# 或 Lua 這類的語言。
3. 嵌入式系統開發：C 語言可以用來開發嵌入式系統，如智慧家電、醫療設備、汽車、無人機等。
4. 高性能計算：C 語言可以用來開發高性能的科學計算程式、人工智慧應用等。
5. 網路程式開發：C 語言可以用來開發網路協定、網路伺服器等。

### C 語言的發展

C 語言在發展過程中，經歷了許多不同的標準和版本，其中包括：

1. C89：1989 年的 ANSI C 標準，也被稱為 C89 或 C90，是最早的 C 語言標準之一。
2. C99：1999 年的 C 語言標準，新增了許多語言特性，如可變長度陣列、inline 函式、複合文字等。
3. C11：2011 年的 C 語言標準，對 C99 進行了修訂和擴充，新增了泛型選擇器、_Atomic 資料型別、匿名結構等特性。
4. C17：2017 年的 C 語言標準，主要是一些細節的修正和改進，如強化了 _Static_assert 的功能、新增了 alignof 運算符號等。

除了標準的 C 語言外，還有一些廠商提供了額外的語言特性和擴充，其中最廣泛使用的是 GNU C Extension。

### GNU C Extension

GNU C Extension 是 GCC 編譯器所提供的 C 語言擴充，其中包括了許多有用的語言特性和函式庫，如：

1. 可變參數函式：讓函式可以接受任意數量的參數。
2. 預處理器擴充：包括了宏函式和內嵌組語等功能。
3. 節點函式 (inline function)：可以讓編譯器將函式內容直接插入呼叫函式的地方，提升程式效能。
4. 位元運算函式：包括了位元反轉、位元組裝、位元計數等函式。
5. 數學函式：包括了三角函式、指數函式、對數函式等。

在本書中，我們會詳細介紹 C 語言標準和 GNU C Extension 所提供的各種特性和功能，以及如何使用它們來開發高效率的程式。

## C 語言的特點和優勢

C 語言有許多獨特的特點和優勢，這些特點和優勢使得它在許多場合都是開發軟體的首選語言，以下是其中的一些：

1. 高效性：C 語言被廣泛使用於系統軟體、嵌入式系統等需要高效率的場合，它的執行速度非常快，這得益於它具有低層次的硬體控制能力，以及高效的記憶體管理機制。
2. 可攜性：C 語言的語法簡潔，不依賴特定的硬體和操作系統，這使得 C 語言的程式碼具有很好的可攜性，可以輕鬆地移植到不同的平台上。
    ccc: 這是相對於組合語言而言，相對於其他高階語言，C 的可攜性很差 ...
3. 靈活性：C 語言支援指標，這使得它可以直接操作記憶體地址，可以靈活地管理記憶體，並且具有更高的表達能力。
4. 跨平台：C 語言是一種跨平台的語言，它可以編譯為不同的平台上的原生程式碼，並在不同的操作系統上運行，這使得它非常適合開發多平台的應用程式。
    ccc: 這是相對於組合語言而言，相對於其他高階語言，C 的跨平台性很差 ...
5. 簡潔明瞭：C 語言的語法簡潔，不含冗餘的語言特性，這使得 C 語言的程式碼易於閱讀和維護，並且可以提高程式碼的可讀性和可靠性。
6. 巨量函式庫：C 語言具有豐富的標準函式庫和廠商提供的函式庫，可以提供各種常用的功能和工具，並且具有高度的可重用性，這使得開發者可以更快地開發出高效率的程式。
    ccc: C的標準函式庫很小，連 map 這樣的字典結構都沒有，雖然 POSIX/Linux 上有很多函式庫，但不容易跨平台，而且微軟之前特別不想支援 POSIX，因此函式庫不能跨到 Windows，另外沒有好用的套件管理員，像是 pip, npm, ... ，所以這些函式庫不能到處使用，雖然有人做了 CMake, Conan 等，但還是得借助原生的 Linux/Windows Visual Studio 才能編譯執行 ...

總的來說，C 語言是一種高效率、可攜性和靈活性都非常優秀的語言，它在系統軟體、嵌入式系統、高性能計算、網路程式開發等各個領域都有廣泛的應用。

## ccc: C 語言的缺點是甚麼?

ChatGPT:

雖然 C 語言有許多優點和應用領域，但它也有一些缺點：

1. 容易出現錯誤：C 語言是一種低階語言，開發者需要自行管理記憶體，這容易導致錯誤出現，例如記憶體泄漏和指標錯誤等。
    * ccc: C 語言沒有垃圾蒐集機制，導致記憶體分配卻沒釋放的情況屢見不鮮，程式設計師的負擔太重。

2. 不夠安全：由於 C 語言對記憶體管理的自由度較高，因此容易出現安全漏洞，例如緩衝區溢出攻擊。

3. 不夠跨平台：C 語言的程式碼在不同的平台上需要進行編譯才能運行，因此在跨平台開發時需要特別注意。

4. 較為繁瑣：C 語言的語法較為繁瑣，需要較長的學習時間，並且開發效率相對較低。

5. 不夠現代：C 語言的設計理念較為古老，缺乏現代化的語言特性和庫，例如自動垃圾回收機制和面向對象設計等。

總之，C 語言雖然在一些特定的應用領域中有著廣泛的應用，但它的一些缺點也需要開發者注意和處理。

## C 語言的應用領域

C 語言具有較高的效率、靈活性和可移植性，因此被廣泛應用於各個領域，包括：

1. 系統軟體開發：C 語言是開發操作系統、編譯器、韌體、驅動程式等系統軟體的首選語言。例如，Linux 和 Windows 的核心是用 C 語言編寫的。

2. 應用軟體開發：C 語言也廣泛用於應用軟體開發，例如網頁瀏覽器、文字處理器、影像處理軟體等。例如，Adobe Photoshop 和 Mozilla Firefox 都是使用 C 語言開發的。

3. 嵌入式系統開發：C 語言在嵌入式系統開發中也有著廣泛的應用，例如智能手機、平板電腦、智慧家居等。C 語言的高效率和可移植性特點使其在這個領域中受到青睞。

4. 遊戲開發：C 語言也是遊戲開發中常用的語言，因為遊戲需要高效率和靈活性。例如，知名的遊戲《魔獸世界》和《卡通英雄》都是使用 C 語言開發的。
    * ccc: C 語言通常只用在底層的開發，遊戲只用來開發引擎，上層會用 C# 或 Lua 這類的語言。

總之，C 語言的廣泛應用領域顯示了它的靈活性和可擴展性，使其成為了一個重要的編程語言。
