## 第十章：C 語言的進階主題

第十章主要涵蓋 C 語言的進階主題，包括指標、數組、結構體以及指標與函數等。下面將針對這些主題進行詳細的介紹。

1. 指標

指標是 C 語言中非常重要的概念之一。它可以讓我們在程序中直接操作記憶體中的數據，方便快捷地對數據進行處理。指標可以通過 "&" 符號來取得變量的地址，通過 "*" 符號來訪問該地址中存儲的數據。

例如，如果有一個變量 a，我們可以使用以下代碼來取得它的地址：

```
int a = 10;
int *p = &a;
```

這樣就可以通過指標 p 訪問變量 a 中存儲的數據，例如：

```
*p = *p + 1;
```

上面的代碼可以讓變量 a 的值加 1。

2. 數組

數組是一種用來存儲相同類型數據的集合。在 C 語言中，數組的元素可以通過下標訪問。例如，以下代碼定義了一個包含 5 個元素的整數數組：

```
int arr[5] = {1, 2, 3, 4, 5};
```

要訪問數組中的元素，可以使用以下代碼：

```
int a = arr[0];  // 取得第一個元素
arr[1] = 6;      // 修改第二個元素
```

需要注意的是，數組的下標是從 0 開始的。也就是說，上面的代碼中 arr[0] 表示的是數組的第一個元素，而 arr[4] 表示的是數組的最後一個元素。

3. 結構體

結構體是一種自定義的數據類型，它可以將多個不同類型的數據組合在一起。例如，我們可以用結構體來表示一個人的信息：

```
struct Person {
    char name[20];
    int age;
    float height;
    float weight;
};
```

上面的代碼定義了一個結構體 Person，它包含了一個字串類型的姓名，一個整型的年齡，以及兩個浮點型的身高和體重。

要訪問結構體中的成員，可以使用 "." 符號。例如：

```
struct Person p = {"Jack", 25, 175.0, 70.0};
printf("Name: %s\n", p.name);
printf("Age: %d\n", p.age);
printf("Height: %.1f\n", p.height);
printf("Weight: %.1f\n", p.weight);
```

上面的代碼可以打印出結構體 p 中的所有成員。

4. 指標與函數

在 C 語言中，指標和函數結合使用可以實現許多高級的程序功能。例如，我們可以通過指標來修改函數中的變量值，或者將函數的返回值作為指標來使用。

以下是一個使用指標來修改變量值的例子：

```
void modify(int *p) {
    *p = *p + 1;
}

int a = 10;
modify(&a);
printf("a: %d\n", a);  // 輸出 11
```

上面的代碼定義了一個函數 modify，它通過指標 p 來修改變量的值。在主函數中，我們使用指向變量 a 的指標來調用 modify 函數，將 a 的值加 1。

另外，我們還可以將函數的返回值作為指標來使用。例如，以下代碼定義了一個返回指向 int 數組的指針的函數：

```
int *getArray() {
    static int arr[] = {1, 2, 3, 4, 5};
    return arr;
}

int *p = getArray();
printf("p[0]: %d\n", p[0]);  // 輸出 1
```

上面的代碼定義了一個函數 getArray，它返回一個指向靜態 int 數組的指針。在主函數中，我們使用這個指針來訪問該數組的元素。